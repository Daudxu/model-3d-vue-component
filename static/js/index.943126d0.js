(function(e){function t(t){for(var i,a,s=t[0],l=t[1],c=t[2],u=0,h=[];u<s.length;u++)a=s[u],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&h.push(r[a][0]),r[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);d&&d(t);while(h.length)h.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,s=1;s<n.length;s++){var l=n[s];0!==r[l]&&(i=!1)}i&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},r={index:0},o=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("c31f")},"42b1":function(e,t,n){"use strict";n("f381")},"54b3":function(e,t,n){e.exports=n.p+"static/img/logo.82b9c7a5.png"},5504:function(e,t,n){"use strict";n("8125")},8125:function(e,t,n){},c31f:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("HelloWorld",{attrs:{msg:" vue model viewer"}})},o=[],a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[n("h1",[e._v(e._s(e.msg))]),n("p",[e._v(" Easily display interactive 3D models on the web & in AR ")]),n("button",{on:{click:e.handleClick}},[e._v("Click switch ")]),n("div",{staticStyle:{display:"flex","justify-content":"center","margin-top":"20px"}},[n("vue-model-viewer",{attrs:{modelAddress:e.modelAddress,poster:e.poster,viewWidth:e.viewWidth,viewHeight:e.viewHeight}})],1)])},s=[],l=n("54b3"),c=n.n(l),d={name:"HelloWorld",props:{msg:String},data:function(){return{modelAddress:"",width:300,height:300,src:"./1.glb",viewWidth:"500px",viewHeight:"500px",poster:c.a,listglb:[{url:"./1.glb"},{url:"./2.glb"},{url:"./3.glb"}]}},mounted:function(){this.handleClick()},methods:{handleClick:function(){var e=3,t=Math.floor(Math.random()*Math.floor(e)),n=this.listglb[t].url;this.modelAddress=n}}},u=d,h=(n("5504"),n("2877")),p=Object(h["a"])(u,a,s,!1,null,"3d4fc663",null),f=p.exports,m={name:"App",components:{HelloWorld:f}},v=m,g=(n("42b1"),Object(h["a"])(v,r,o,!1,null,null,null)),w=g.exports,b=n("5530"),y=(n("d81d"),n("b0c0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return 1===e.engine?n("div",{staticClass:"vue-model-viewer",attrs:{id:"vue-model-viewer"},domProps:{innerHTML:e._s(e.renderModela)}}):n("div",{staticClass:"vue-model-viewer",attrs:{id:"vue-model-viewer"}},[n("canvas",{ref:"modelView",staticStyle:{width:"100%",height:"100%"}})])}),x=[],O=(n("a9e3"),n("99af"),n("3f31"),n("5a89")),S=n("4721"),j=n("34ad"),A={name:"VueModelViewer",props:{engine:{type:Number,default:function(){return 1}},modelAddress:{type:String,default:function(){return"./1.glb"}},suffix:{type:String,default:function(){return"gltf"}},AutoFresh:{type:Boolean,default:function(){return!0}},autoAnimate:{type:Boolean,default:function(){return!0}},webGlOptions:{type:Object},viewWidth:{type:String,default:"300px"},viewHeight:{type:String,default:"300px"},poster:{type:String,default:""},isAutoPlay:{type:Boolean,default:!0},isDisableZoom:{type:Boolean,default:!0},modelId:{type:String,default:"viewer-display"},modelClass:{type:String,default:"viewer-display"}},data:function(){return{renderModela:"",publicPath:"",wrapper:new O["Q"],mesh:null,camera:null,scene:null,originX:300,originY:0,originZ:360,renderer:null,controls:null}},mounted:function(){2===this.engine&&this.init()},watch:{modelAddress:function(e,t){console.log("val",e),console.log("oldVal",t),2===this.engine?e!=t&&this.init():this.renderModela='<model-viewer style="width: '.concat(this.viewWidth,";height: ").concat(this.viewHeight,';"  autoplay="').concat(this.isAutoPlay,'" camera-controls="true" animation-name="Run" interpolation-decay="200" max-camera-orbit="auto 75deg auto" min-camera-orbit="auto 75deg auto"  disable-zoom="').concat(this.isDisableZoom,'" id="').concat(this.modelClass,'" class="').concat(this.modelId,'" poster="').concat(this.poster,'" src="').concat(e,'" ar-status="not-presenting"></model-viewer>')},AutoFresh:function(e){e?this.init():this.destroyed()}},methods:{destroyed:function(){this.clear()},init:function(){this.createScene(),this.loadLoader(),this.createLight(),this.createCamera(),this.createRender(),this.createControls(),this.render()},clear:function(){this.mesh=null,this.camera=null,this.scene=null,this.renderer=null,this.controls=null,cancelAnimationFrame(this.animationId),console.log("我要清除啦")},createScene:function(){this.scene=new O["ab"]},loadLoader:function(){var e=this,t=this,n=new j["a"];n.load(t.modelAddress,(function(t){e.mesh=t.scene,e.mesh.scale.set(30,30,30),e.mesh.position.set(0,-30,0),e.mesh.rotation.set(0,0,0),e.scene.add(e.mesh)}))},createLight:function(){var e="0x000000",t=new O["a"](e,1);this.scene.add(t);var n=new O["fb"](16777215);n.position.set(100,100,100),this.scene.add(n)},createCamera:function(){var e=300,t=300;this.cWidth=e,this.cHeight=t;var n=e/t;this.aspect=n,this.camera=new O["S"](45,1,.01,1e5),this.camera.position.set(0,30,20),this.camera.position.z="90",this.camera.lookAt(new O["nb"](this.originX,this.originY,this.originZ)),this.scene.add(this.camera)},createRender:function(){var e={antialias:!0,alpha:!0},t=Object.assign({},e,this.webGlOptions,{canvas:this.$refs.modelView});this.renderer=new O["pb"](t),this.renderer.setSize(300,300)},render:function(){this.animationId=requestAnimationFrame(this.render),this.renderer.render(this.scene,this.camera)},createControls:function(){this.controls=new S["a"](this.camera,this.renderer.domElement),this.controls.type="orbit",this.scene.add(this.wrapper)},onWindowResize:function(){this.camera.aspect=this.aspect,this.camera.updateProjectionMatrix()}}},_=A,C=Object(h["a"])(_,y,x,!1,null,"ab917c5c",null),M=C.exports;M.install=function(e){e.component(M.name,M)};var P=M,H=[P],W=function e(t){e.installed||(e.installed=!0,H.map((function(e){t.component(e.name,e)})))};"undefined"!==typeof window&&window.Vue&&W(window.Vue);var k=Object(b["a"])({install:W},H);i["a"].config.productionTip=!1,i["a"].use(k),new i["a"]({render:function(e){return e(w)}}).$mount("#app")},f381:function(e,t,n){}});
//# sourceMappingURL=index.943126d0.js.map